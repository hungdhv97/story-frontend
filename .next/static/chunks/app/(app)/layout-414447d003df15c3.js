(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{9597:function(e,t,r){Promise.resolve().then(r.t.bind(r,5250,23)),Promise.resolve().then(r.bind(r,2895))},6596:function(e,t,r){"use strict";r.d(t,{Gk:function(){return u},QD:function(){return o},T9:function(){return c},U0:function(){return i},Vn:function(){return s},X_:function(){return d},i6:function(){return f},wK:function(){return l}});var n=r(7665);let a=e=>{let{page:t,limit:r}=e;return(0,n.cn)({page:t,limit:r})},s=a({page:1,limit:10}),o=(0,n.cn)([]),i=(0,n.cn)(""),l=(0,n.cn)("all"),c=(0,n.cn)(""),u=a({page:1,limit:5}),d=(0,n.cn)({week:[],month:[],all:[]}),f=(0,n.cn)("")},2895:function(e,t,r){"use strict";r.r(t),r.d(t,{Header:function(){return E}});var n=r(7437),a=r(1396),s=r.n(a),o=r(8937),i=r(2265),l=r(2169),c=r(3436),u=r(9213),d=r(3523);let f=i.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,n.jsxs)(c.fC,{ref:t,className:(0,l.cn)("relative z-10 ",r),...s,children:[a,(0,n.jsx)(b,{})]})});f.displayName=c.fC.displayName;let h=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(c.aV,{ref:t,className:(0,l.cn)("hidden group list-none items-center justify-center space-x-2.5 lg:flex lg:lex-1",r),...a})});h.displayName=c.aV.displayName;let m=c.ck,p=(0,u.j)("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),g=i.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,n.jsxs)(c.xz,{ref:t,className:(0,l.cn)(p(),"group",r),...s,children:[a," ",(0,n.jsx)(d.Z,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]})});g.displayName=c.xz.displayName;let x=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(c.VY,{ref:t,className:(0,l.cn)("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",r),...a})});x.displayName=c.VY.displayName;let v=c.rU,b=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("absolute left-0 top-full flex justify-center"),children:(0,n.jsx)(c.l_,{className:(0,l.cn)("submenu-viewport origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",r),ref:t,...a})})});function y(){setTimeout(()=>{let e=document.querySelectorAll('.submenu-trigger[data-state="open"]');if(0===e.length)return;let t=e[0],r=document.getElementsByClassName("submenu-viewport");r.length>0&&(r[0].style.left="".concat(t.offsetLeft,"px"))})}function j(e){let{storyRouters:t,genreRouters:r,chapterRouters:a}=e;return(0,n.jsx)(f,{onValueChange:y,children:(0,n.jsxs)(h,{children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(g,{className:"submenu-trigger",children:"Danh s\xe1ch"}),(0,n.jsx)(x,{children:(0,n.jsx)("ul",{className:"grid w-[270px] grid-cols-1 p-2",children:t.map(e=>(0,n.jsx)(N,{title:e.title,href:e.href},e.title))})})]}),(0,n.jsxs)(m,{children:[(0,n.jsx)(g,{className:"submenu-trigger",children:"Thể loại"}),(0,n.jsx)(x,{children:(0,n.jsx)("ul",{className:"grid w-[500px] grid-cols-2 p-2",children:r.map(e=>(0,n.jsx)(N,{title:e.title,href:e.href},e.title))})})]}),(0,n.jsxs)(m,{children:[(0,n.jsx)(g,{className:"submenu-trigger",children:"Tổng số chương"}),(0,n.jsx)(x,{children:(0,n.jsx)("ul",{className:"grid w-[250px] grid-cols-1 p-2",children:a.map(e=>(0,n.jsx)(N,{title:e.title,href:e.href},e.title))})})]})]})})}b.displayName=c.l_.displayName,i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(c.z$,{ref:t,className:(0,l.cn)("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",r),...a,children:(0,n.jsx)("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})})}).displayName=c.z$.displayName;let N=i.forwardRef((e,t)=>{let{className:r,title:a,children:s,...o}=e;return(0,n.jsx)("li",{children:(0,n.jsx)(v,{asChild:!0,children:(0,n.jsxs)("a",{ref:t,className:(0,l.cn)("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",r),...o,children:[(0,n.jsx)("div",{className:"leading-none",children:a}),(0,n.jsx)("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:s})]})})})});N.displayName="ListItem";var w=r(3890),T=r(2782),P=r(6596);function _(){let[e,t]=(0,w.KO)(P.i6),{data:r}=(0,o.lN)(e),[a,l]=(0,i.useState)(!1);return(0,n.jsxs)("div",{className:"relative w-[400px]",children:[(0,n.jsx)(T.I,{type:"text",value:e,onChange:e=>{t(e.target.value)},onBlur:()=>l(!1),onFocus:()=>l(!0),className:"w-full border pl-4",placeholder:"T\xecm truyện..."}),a&&r&&(0,n.jsx)("div",{className:"absolute z-50 mt-1.5 w-full rounded-md border bg-popover p-2 text-popover-foreground shadow-lg ",children:r.length>0?r.map(e=>(0,n.jsx)(s(),{href:"/stories/".concat(e.slug),className:"block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",children:(0,n.jsxs)("div",{className:"flex h-20 flex-row space-x-4",children:[(0,n.jsx)("img",{src:e.cover_photo,alt:e.title,className:"rounded-md object-cover shadow-md"}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col items-start justify-between",children:[(0,n.jsx)("div",{className:"text-lg font-bold leading-none",children:e.title}),(0,n.jsx)("div",{className:"text-base",children:e.author.name})]})]})},e.id)):(0,n.jsx)("div",{className:"p-3",children:"Kh\xf4ng t\xecm thấy kết quả ..."})})]})}var k=r(4135),C=r(3088),z=r(519),q=r(6435),Z=r(575);function R(){let[e,t]=(0,i.useState)(!1),{theme:r,setTheme:a}=(0,q.F)(),[s,o]=(0,i.useState)("dark"===r);return(0,i.useEffect)(()=>{a(s?"dark":"light")},[s,a]),(0,i.useEffect)(()=>{t(!0)},[]),(0,n.jsx)(Z.z,{variant:"outline",size:"icon",onClick:()=>{o(!s)},className:"rounded-full",children:e?s?(0,n.jsx)(k.Z,{className:"size-6"}):(0,n.jsx)(C.Z,{className:"size-6"}):(0,n.jsx)(z.Z,{className:"animate-spin"})})}let I=[{title:"Truyện Hot",href:"/filter/stories/hot"},{title:"Truyện Full",href:"/filter/stories/full"},{title:"Truyện mới cập nhật",href:"/filter/stories/updated"},{title:"Truyện mới",href:"/filter/stories/new"}],D=[{title:"Dưới 100",href:"/filter/chapters/lower-100"},{title:"Từ 100 đến 500",href:"/filter/chapters/from-100-to-500"},{title:"Từ 500 đến 1000",href:"/filter/chapters/from-500-to-1000"},{title:"Tr\xean 1000",href:"/filter/chapters/more-than-1000"}];function E(){let{data:e}=(0,o.DG)(),t=e?null==e?void 0:e.map(e=>{let{id:t,name:r,slug:n}=e;return{id:t,title:r,href:"/filter/genres/".concat(n)}}):[];return(0,n.jsx)("header",{className:"h-24 bg-slate-300 dark:bg-slate-700",children:(0,n.jsxs)("div",{className:"container flex h-full justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,n.jsx)(s(),{href:"/",className:"transition delay-150 duration-300 ease-in-out hover:-translate-y-1 hover:scale-110",children:(0,n.jsx)("img",{src:"/images/logo.jpg",className:"h-16 rounded-full shadow-lg shadow-cyan-500/50",alt:"Logo"})}),(0,n.jsx)(j,{storyRouters:I,genreRouters:t,chapterRouters:D})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(_,{}),(0,n.jsx)(R,{})]})]})})}},575:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),a=r(7256),s=r(9213),o=r(2265),i=r(2169);let l=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:c=!1,...u}=e,d=c?a.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(l({variant:s,size:o,className:r})),ref:t,...u})});c.displayName="Button"},2782:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var n=r(7437),a=r(2265),s=r(2169);let o=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,n.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},8937:function(e,t,r){"use strict";r.d(t,{cm:function(){return c},Sl:function(){return u},Iz:function(){return f},me:function(){return d},df:function(){return l},DG:function(){return i},IQ:function(){return h},RD:function(){return p},Um:function(){return g},Ql:function(){return m},lN:function(){return x}});var n=r(2333);async function a(e){return fetch(e).then(e=>e.json())}var s=r(304);let o="http://13.213.65.39:8000",i=()=>(0,n.ZP)("".concat(o,"/api/genres/"),a),l=(e,t)=>{let r=t?"".concat(o,"/api/genres/").concat(e,"/"):null;return(0,n.ZP)(r,a)},c=(e,t)=>{let r=t?"".concat(o,"/api/authors/").concat(e,"/"):null;return(0,n.ZP)(r,a)},u=e=>(0,n.ZP)("".concat(o,"/api/chapters/").concat(e,"/"),a),d=e=>{let{paginationAtom:t,storySlug:r}=e,{pagination:i}=(0,s.h0)(t);return(0,n.ZP)("".concat(o,"/api/stories/").concat(r,"/chapters/short-info/?limit=").concat(i.limit,"&page=").concat(i.page),a)},f=e=>(0,n.ZP)("".concat(o,"/api/stories/").concat(e,"/chapters/short-info/"),a),h=e=>(0,n.ZP)("".concat(o,"/api/stories/").concat(e,"/"),a),m=()=>(0,n.ZP)("".concat(o,"/api/top/stories/"),a),p=e=>{let{authorId:t,genreSlug:r,isHot:s,isNew:i,status:l,totalChaptersFrom:c,totalChaptersTo:u}=e,d="".concat(o,"/api/stories/?");return t&&(d+="author_id=".concat(t,"&")),r&&(d+="genre_slug=".concat(r,"&")),void 0!==s&&(d+="is_hot=".concat(s,"&")),void 0!==i&&(d+="is_new=".concat(i,"&")),l&&(d+="status=".concat(l,"&")),c&&(d+="total_chapters_from=".concat(c,"&")),u&&(d+="total_chapters_to=".concat(u,"&")),d=d.replace(/&$|\?$/,""),(0,n.ZP)(d,a)},g=e=>{let{paginationAtom:t,authorId:r,genreSlug:i,isHot:l,isNew:c,status:u,totalChaptersFrom:d,totalChaptersTo:f}=e,{pagination:h}=(0,s.h0)(t),m="".concat(o,"/api/stories/?limit=").concat(h.limit,"&page=").concat(h.page,"&");return r&&(m+="author_id=".concat(r,"&")),i&&(m+="genre_slug=".concat(i,"&")),void 0!==l&&(m+="is_hot=".concat(l,"&")),void 0!==c&&(m+="is_new=".concat(c,"&")),u&&(m+="status=".concat(u,"&")),d&&(m+="total_chapters_from=".concat(d,"&")),f&&(m+="total_chapters_to=".concat(f,"&")),m=m.replace(/&$|\?$/,""),(0,n.ZP)(m,a)},x=e=>{let t=(0,s.Nr)(e,300),r=""!==t.trim()?"".concat(o,"/api/search/?text=").concat(t):null;return(0,n.ZP)(r,a)}},304:function(e,t,r){"use strict";r.d(t,{Nr:function(){return l},Tp:function(){return i},h0:function(){return o}});var n=r(3890),a=r(2265),s=r(8937);let o=e=>{let[t,r]=(0,n.KO)(e);return{pagination:t,nextPage:()=>{r({...t,page:t.page+1})},prevPage:()=>{r({...t,page:Math.max(1,t.page-1)})},goToPage:e=>{r({...t,page:e})}}},i=(e,t)=>{let{data:r}=(0,s.df)(t,"genres"==e),{data:n}=(0,s.cm)(isNaN(parseInt(t,10))?1:parseInt(t,10),"authors"==e);switch(e){case"stories":switch(t){case"full":return{queryParams:{status:"completed"},paths:[{title:"Truyện Full",href:"/filter/stories/full"}]};case"hot":return{queryParams:{isHot:!0},paths:[{title:"Truyện Hot",href:"/filter/stories/hot"}]};case"updated":return{queryParams:{isNew:!0},paths:[{title:"Truyện Mới Cập Nhật",href:"/filter/stories/updated"}]};case"new":return{queryParams:{isNew:!0},paths:[{title:"Truyện Mới",href:"/filter/stories/new"}]};case"all":return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}}break;case"chapters":switch(t){case"lower-100":return{queryParams:{totalChaptersTo:100},paths:[{title:"Truyện Dưới 100 Chương",href:"/filter/chapters/lower-100"}]};case"from-100-to-500":return{queryParams:{totalChaptersFrom:100,totalChaptersTo:500},paths:[{title:"Truyện Từ 100 Đến 500 Chương",href:"/filter/chapters/from-100-to-500"}]};case"from-500-to-1000":return{queryParams:{totalChaptersFrom:500,totalChaptersTo:1e3},paths:[{title:"Truyện Từ 500 Đến 1000 Chương",href:"/filter/chapters/from-500-to-1000"}]};case"more-than-1000":return{queryParams:{totalChaptersFrom:1e3},paths:[{title:"Truyện Tr\xean 1000 Chương",href:"/filter/chapters/more-than-1000"}]};case"all":return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}}break;case"genres":if(r)return{queryParams:{genreSlug:t},paths:[{title:r.name,href:"/filter/genres/".concat(t)}]};break;case"authors":if(n)return{queryParams:{authorId:parseInt(t)},paths:[{title:n.name,href:"/filter/authors/".concat(t)}]}}return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}};function l(e,t){let[r,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(7042),a=r(4769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}},function(e){e.O(0,[250,590,63,972,971,938,744],function(){return e(e.s=9597)}),_N_E=e.O()}]);