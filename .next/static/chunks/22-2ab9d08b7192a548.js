"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{6596:function(e,t,r){r.d(t,{Gk:function(){return u},QD:function(){return s},T9:function(){return l},U0:function(){return o},Vn:function(){return i},X_:function(){return f},i6:function(){return d},wK:function(){return c}});var n=r(7665);let a=e=>{let{page:t,limit:r}=e;return(0,n.cn)({page:t,limit:r})},i=a({page:1,limit:10}),s=(0,n.cn)([]),o=(0,n.cn)(""),c=(0,n.cn)("all"),l=(0,n.cn)(""),u=a({page:1,limit:5}),f=(0,n.cn)({week:[],month:[],all:[]}),d=(0,n.cn)("")},2274:function(e,t,r){r.d(t,{a:function(){return o}});var n=r(7437),a=r(7042),i=r(1396),s=r.n(i);function o(e){let{paths:t}=e;return(0,n.jsx)("nav",{"aria-label":"breadcrumb",className:"my-3 w-full rounded-md bg-neutral-100 px-5 py-3 shadow-lg dark:bg-neutral-700",children:(0,n.jsx)("ol",{className:"flex",children:t.map((e,r)=>{let i=r===t.length-1;return(0,n.jsxs)("li",{children:[(0,n.jsx)(s(),{href:e.href,className:(0,a.Z)("hover:text-blue-600 dark:text-blue-300 dark:hover:text-blue-500",{"text-blue-700 dark:text-primary":i}),children:e.title}),!i&&(0,n.jsx)("span",{className:"mx-2 text-neutral-500 dark:text-neutral-300",children:"/"})]},r)})})})}},6456:function(e,t,r){r.d(t,{H1:function(){return i},H2:function(){return s}});var n=r(7437),a=r(7042);r(2265);let i=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.Z)("my-2 inline-block scroll-m-20 py-4 text-4xl font-extrabold tracking-tight lg:text-5xl",r),children:t})},s=e=>{let{children:t,className:r}=e;return(0,n.jsx)("div",{className:(0,a.Z)("my-2 inline-block scroll-m-20 py-1 text-2xl font-extrabold tracking-tight lg:text-3xl",r),children:t})}},4446:function(e,t,r){r.d(t,{$:function(){return c}});var n=r(7437),a=r(2265),i=r(304),s=r(575),o=r(2782);function c(e){let{totalPages:t,paginationAtom:r}=e,{pagination:c,nextPage:l,prevPage:u,goToPage:f}=(0,i.h0)(r),[d,h]=(0,a.useState)(c.page);return(0,a.useEffect)(()=>{h(c.page)},[c]),(0,n.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2",children:[(0,n.jsx)(s.z,{onClick:()=>f(1),disabled:1===c.page,children:"<<"}),(0,n.jsx)(s.z,{onClick:u,disabled:1===c.page,children:"<"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h(Math.max(1,Math.min(d,t))),f(Math.max(1,Math.min(d,t)))},className:"flex items-center",children:[(0,n.jsx)(o.I,{type:"number",value:d,onChange:e=>{h(parseInt(e.target.value,10))},className:"w-12 text-center [&::-webkit-inner-spin-button]:appearance-none"}),(0,n.jsxs)("span",{className:"m-2 whitespace-nowrap",children:[" / ",t]})]}),(0,n.jsx)(s.z,{onClick:l,disabled:c.page===t,children:">"}),(0,n.jsx)(s.z,{onClick:()=>f(t),disabled:c.page===t,children:">>"})]})}},7679:function(e,t,r){r.d(t,{E:function(){return b}});var n=r(7437),a=r(3890),i=r(6456),s=r(7042),o=r(1396),c=r.n(o);function l(e){let{stories:t}=e;return(0,n.jsx)("div",{className:"flex flex-col",children:t.map((e,t)=>{var r;return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"flex h-12 flex-row items-center space-x-2",children:[(0,n.jsx)("div",{className:(0,s.W)("flex size-10 items-center justify-center rounded-full",{"bg-red-500":0==t,"bg-green-500":1==t,"bg-cyan-500":2==t},{"border border-foreground bg-foreground text-background":t>2}),children:t+1}),(0,n.jsx)(c(),{href:"/stories/".concat(e.slug),className:"w-[270px] leading-none text-blue-600 hover:text-blue-800 dark:text-blue-200 dark:hover:text-blue-400",children:e.title}),(0,n.jsx)("div",{children:(r=e.total_reads,new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0}).format(r).replace(/,/g,"."))})]})},e.id)})})}var u=r(7094),f=r(2265),d=r(2169);let h=u.fC,p=f.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(u.aV,{ref:t,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});p.displayName=u.aV.displayName;let m=f.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(u.xz,{ref:t,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-0.5 font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});m.displayName=u.xz.displayName;let g=f.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(u.VY,{ref:t,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});g.displayName=u.VY.displayName;var x=r(6596);function b(){let[e]=(0,a.KO)(x.X_);return(0,n.jsxs)("div",{children:[(0,n.jsx)(i.H2,{children:"Top 10"}),(0,n.jsxs)(h,{defaultValue:"week",className:"w-[400px]",children:[(0,n.jsxs)(p,{children:[(0,n.jsx)(m,{value:"week",children:"Tuần"}),(0,n.jsx)(m,{value:"month",children:"Th\xe1ng"}),(0,n.jsx)(m,{value:"all",children:"Năm"})]}),(0,n.jsx)(g,{value:"week",children:(0,n.jsx)(l,{stories:e.week})}),(0,n.jsx)(g,{value:"month",children:(0,n.jsx)(l,{stories:e.month})}),(0,n.jsx)(g,{value:"all",children:(0,n.jsx)(l,{stories:e.all})})]})]})}},575:function(e,t,r){r.d(t,{z:function(){return l}});var n=r(7437),a=r(7256),i=r(9213),s=r(2265),o=r(2169);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:i,size:s,asChild:l=!1,...u}=e,f=l?a.g7:"button";return(0,n.jsx)(f,{className:(0,o.cn)(c({variant:i,size:s,className:r})),ref:t,...u})});l.displayName="Button"},2782:function(e,t,r){r.d(t,{I:function(){return s}});var n=r(7437),a=r(2265),i=r(2169);let s=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},8937:function(e,t,r){r.d(t,{cm:function(){return l},Sl:function(){return u},Iz:function(){return d},me:function(){return f},df:function(){return c},DG:function(){return o},IQ:function(){return h},RD:function(){return m},Um:function(){return g},Ql:function(){return p},lN:function(){return x}});var n=r(2333);async function a(e){return fetch(e).then(e=>e.json())}var i=r(304);let s="http://13.213.65.39:8000",o=()=>(0,n.ZP)("".concat(s,"/api/genres/"),a),c=(e,t)=>{let r=t?"".concat(s,"/api/genres/").concat(e,"/"):null;return(0,n.ZP)(r,a)},l=(e,t)=>{let r=t?"".concat(s,"/api/authors/").concat(e,"/"):null;return(0,n.ZP)(r,a)},u=e=>(0,n.ZP)("".concat(s,"/api/chapters/").concat(e,"/"),a),f=e=>{let{paginationAtom:t,storySlug:r}=e,{pagination:o}=(0,i.h0)(t);return(0,n.ZP)("".concat(s,"/api/stories/").concat(r,"/chapters/short-info/?limit=").concat(o.limit,"&page=").concat(o.page),a)},d=e=>(0,n.ZP)("".concat(s,"/api/stories/").concat(e,"/chapters/short-info/"),a),h=e=>(0,n.ZP)("".concat(s,"/api/stories/").concat(e,"/"),a),p=()=>(0,n.ZP)("".concat(s,"/api/top/stories/"),a),m=e=>{let{authorId:t,genreSlug:r,isHot:i,isNew:o,status:c,totalChaptersFrom:l,totalChaptersTo:u}=e,f="".concat(s,"/api/stories/?");return t&&(f+="author_id=".concat(t,"&")),r&&(f+="genre_slug=".concat(r,"&")),void 0!==i&&(f+="is_hot=".concat(i,"&")),void 0!==o&&(f+="is_new=".concat(o,"&")),c&&(f+="status=".concat(c,"&")),l&&(f+="total_chapters_from=".concat(l,"&")),u&&(f+="total_chapters_to=".concat(u,"&")),f=f.replace(/&$|\?$/,""),(0,n.ZP)(f,a)},g=e=>{let{paginationAtom:t,authorId:r,genreSlug:o,isHot:c,isNew:l,status:u,totalChaptersFrom:f,totalChaptersTo:d}=e,{pagination:h}=(0,i.h0)(t),p="".concat(s,"/api/stories/?limit=").concat(h.limit,"&page=").concat(h.page,"&");return r&&(p+="author_id=".concat(r,"&")),o&&(p+="genre_slug=".concat(o,"&")),void 0!==c&&(p+="is_hot=".concat(c,"&")),void 0!==l&&(p+="is_new=".concat(l,"&")),u&&(p+="status=".concat(u,"&")),f&&(p+="total_chapters_from=".concat(f,"&")),d&&(p+="total_chapters_to=".concat(d,"&")),p=p.replace(/&$|\?$/,""),(0,n.ZP)(p,a)},x=e=>{let t=(0,i.Nr)(e,300),r=""!==t.trim()?"".concat(s,"/api/search/?text=").concat(t):null;return(0,n.ZP)(r,a)}},304:function(e,t,r){r.d(t,{Nr:function(){return c},Tp:function(){return o},h0:function(){return s}});var n=r(3890),a=r(2265),i=r(8937);let s=e=>{let[t,r]=(0,n.KO)(e);return{pagination:t,nextPage:()=>{r({...t,page:t.page+1})},prevPage:()=>{r({...t,page:Math.max(1,t.page-1)})},goToPage:e=>{r({...t,page:e})}}},o=(e,t)=>{let{data:r}=(0,i.df)(t,"genres"==e),{data:n}=(0,i.cm)(isNaN(parseInt(t,10))?1:parseInt(t,10),"authors"==e);switch(e){case"stories":switch(t){case"full":return{queryParams:{status:"completed"},paths:[{title:"Truyện Full",href:"/filter/stories/full"}]};case"hot":return{queryParams:{isHot:!0},paths:[{title:"Truyện Hot",href:"/filter/stories/hot"}]};case"updated":return{queryParams:{isNew:!0},paths:[{title:"Truyện Mới Cập Nhật",href:"/filter/stories/updated"}]};case"new":return{queryParams:{isNew:!0},paths:[{title:"Truyện Mới",href:"/filter/stories/new"}]};case"all":return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}}break;case"chapters":switch(t){case"lower-100":return{queryParams:{totalChaptersTo:100},paths:[{title:"Truyện Dưới 100 Chương",href:"/filter/chapters/lower-100"}]};case"from-100-to-500":return{queryParams:{totalChaptersFrom:100,totalChaptersTo:500},paths:[{title:"Truyện Từ 100 Đến 500 Chương",href:"/filter/chapters/from-100-to-500"}]};case"from-500-to-1000":return{queryParams:{totalChaptersFrom:500,totalChaptersTo:1e3},paths:[{title:"Truyện Từ 500 Đến 1000 Chương",href:"/filter/chapters/from-500-to-1000"}]};case"more-than-1000":return{queryParams:{totalChaptersFrom:1e3},paths:[{title:"Truyện Tr\xean 1000 Chương",href:"/filter/chapters/more-than-1000"}]};case"all":return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}}break;case"genres":if(r)return{queryParams:{genreSlug:t},paths:[{title:r.name,href:"/filter/genres/".concat(t)}]};break;case"authors":if(n)return{queryParams:{authorId:parseInt(t)},paths:[{title:n.name,href:"/filter/authors/".concat(t)}]}}return{queryParams:{},paths:[{title:"Tất Cả Truyện",href:"/filter/stories/all"}]}};function c(e,t){let[r,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},2169:function(e,t,r){r.d(t,{cn:function(){return i}});var n=r(7042),a=r(4769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}}]);